"use strict";!function(a){function e(e,s,t,o){var r=o.val();""==r&&(r="US",o.val(r));t=t.val();""!==t&&(t={zip_code:t,country:r},jQuery.ajax({type:"GET",url:user_account_management_rest.site_url+user_account_management_rest.rest_namespace+"/check-zip",data:t,dataType:"json",success:function(t){var o;"success"===t.status?(o="",o+=t.city,a(e).val(t.city),t.city!==t.state&&(o+=", "+t.state,a(s).val(t.state)),"US"!==r&&(o+=", "+r),a(".location small").text(o)):a(".location small").text("")}}))}a(document).ready(function(){var o;0<a("#rh-name").length&&a("#rh-name").val(""),0<a(".password-show").length&&(t=a(".btn-submit"),(o=a(".password-show")).after('<div class="a-form-show-password a-form-caption"><label><input type="checkbox" name="show_password" id="show-password-checkbox" value="1"> Show password</label></div>'),a("#show-password-checkbox").on("click",function(t){a(this).is(":checked")?o.attr("type","text"):o.attr("type","password")}),t.on("click",function(t){o.attr("type","password")})),0<a(".password-strength-check").length&&(a(".a-form-show-password").after(a('<meter max="4" id="password-strength"><div></div></meter><p id="password-strength-text"></p>')),a("body").on("keyup","input[name=password], input[name=new_password]",function(t){!function(t,o,e,s){switch(t=t.val(),e.removeClass("short bad good strong"),s=s.concat(wp.passwordStrength.userInputDisallowedList()),t=wp.passwordStrength.meter(t,s,t)){case 2:e.addClass("bad").html("Strength: <strong>"+pwsL10n.bad+"</strong>");break;case 3:e.addClass("good").html("Strength: <strong>"+pwsL10n.good+"</strong>");break;case 4:e.addClass("strong").html("Strength: <strong>"+pwsL10n.strong+"</strong>");break;case 5:e.addClass("short").html("Strength: <strong>"+pwsL10n.mismatch+"</strong>");break;default:e.addClass("short").html("Strength: <strong>"+pwsL10n.short+"</strong>")}o.val(t)}(a("input[name=password], input[name=new_password]"),a("#password-strength"),a("#password-strength-text"),(a("input[type=submit]"),["disallowed","listed","word"]))}));var t=a(".m-form-country #country").val();a(".m-form-zip-code #zip-code").length&&(""==t||"US"==t?(a(".m-form-country").hide(),a(".m-form-zip-code #zip-code").prop("type","tel"),a(".m-form-zip-code").append('<div class="a-form-caption location"><small></small></div><div class="a-form-caption show-country"><a href="#" id="registration_show_country"><small>Not in the US?</small></a></div>')):0<a(".m-form-country #country").length&&(a(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>'),a(".m-form-zip-code #zip-code").prop("type","text")),0<a(".m-form-country #country").length&&(a("select, input",".m-form-country").hasClass("not-in-us")&&(a(".show-country",".m-form-zip-code").remove(),a(".m-form-country").show(),a(".m-form-zip-code #zip-code").prop("type","text"),a(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>')),0==a(".m-form-city #city").length&&0==a(".m-form-state #state").length&&(a(".m-form-country #country, .m-form-zip-code #zip-code").blur(function(){e(a('input[name="city"]'),a('input[name="state"]'),a(".m-form-zip-code #zip-code"),a(".m-form-country #country"))}),a(".m-form-country #country").change(function(){e(a('input[name="city"]'),a('input[name="state"]'),a(".m-form-zip-code #zip-code"),a(".m-form-country #country"))})),a("#registration_show_country").click(function(){return a(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>'),a(".m-form-country").slideDown(),a(".m-form-zip-code #zip-code").prop("type","text"),a(this).hide(),!1})))})}(jQuery);