"use strict";!function(c){function o(e,s,t,o){var r=o.val();""==r&&(r="US",o.val(r));var a=t.val();if(""!==a){var n={zip_code:a,country:r};jQuery.ajax({type:"GET",url:user_account_management_rest.site_url+user_account_management_rest.rest_namespace+"/check-zip",data:n,dataType:"json",success:function(t){if("success"===t.status){var o="";o+=t.city,c(e).val(t.city),t.city!==t.state&&(o+=", "+t.state,c(s).val(t.state)),"US"!==r&&(o+=", "+r),c(".location small").text(o)}else c(".location small").text("")}})}}c(document).ready(function(){0<c("#rh-name").length&&c("#rh-name").val(""),0<c(".password-show").length&&function(){var t=c(".btn-submit"),o=c(".password-show");o.after('<div class="a-form-show-password a-form-caption"><label><input type="checkbox" name="show_password" id="show-password-checkbox" value="1"> Show password</label></div>'),c("#show-password-checkbox").on("click",function(t){c(this).is(":checked")?o.attr("type","text"):o.attr("type","password")}),t.on("click",function(t){o.attr("type","password")})}(),0<c(".password-strength-check").length&&(c(".a-form-show-password").after(c('<meter max="4" id="password-strength"><div></div></meter><p id="password-strength-text"></p>')),c("body").on("keyup","input[name=password], input[name=new_password]",function(t){!function(t,o,e,s,r){var a=t.val();e.removeClass("short bad good strong"),r=r.concat(wp.passwordStrength.userInputBlacklist());var n=wp.passwordStrength.meter(a,r,a);switch(n){case 2:e.addClass("bad").html("Strength: <strong>"+pwsL10n.bad+"</strong>");break;case 3:e.addClass("good").html("Strength: <strong>"+pwsL10n.good+"</strong>");break;case 4:e.addClass("strong").html("Strength: <strong>"+pwsL10n.strong+"</strong>");break;case 5:e.addClass("short").html("Strength: <strong>"+pwsL10n.mismatch+"</strong>");break;default:e.addClass("short").html("Strength: <strong>"+pwsL10n.short+"</strong>")}o.val(n)}(c("input[name=password], input[name=new_password]"),c("#password-strength"),c("#password-strength-text"),c("input[type=submit]"),["black","listed","word"])}));var t=c(".m-form-country #country").val();c(".m-form-zip-code #zip-code").length&&(""==t||"US"==t?(c(".m-form-country").hide(),c(".m-form-zip-code #zip-code").prop("type","tel"),c(".m-form-zip-code").append('<div class="a-form-caption location"><small></small></div><div class="a-form-caption show-country"><a href="#" id="registration_show_country"><small>Not in the US?</small></a></div>')):0<c(".m-form-country #country").length&&(c(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>'),c(".m-form-zip-code #zip-code").prop("type","text")),0<c(".m-form-country #country").length&&(c("select, input",".m-form-country").hasClass("not-in-us")&&(c(".show-country",".m-form-zip-code").remove(),c(".m-form-country").show(),c(".m-form-zip-code #zip-code").prop("type","text"),c(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>')),0==c(".m-form-city #city").length&&0==c(".m-form-state #state").length&&(c(".m-form-country #country, .m-form-zip-code #zip-code").blur(function(){o(c('input[name="city"]'),c('input[name="state"]'),c(".m-form-zip-code #zip-code"),c(".m-form-country #country"))}),c(".m-form-country #country").change(function(){o(c('input[name="city"]'),c('input[name="state"]'),c(".m-form-zip-code #zip-code"),c(".m-form-country #country"))})),c("#registration_show_country").click(function(){return c(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>'),c(".m-form-country").slideDown(),c(".m-form-zip-code #zip-code").prop("type","text"),c(this).hide(),!1})))})}(jQuery);