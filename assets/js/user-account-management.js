'use strict';

var $ = window.jQuery;

function showPassword() {
	// Cache our jquery elements
	var $submit = $('.btn-submit');
	var $field = $('.password-show');
	var show_pass = '<div class="a-form-show-password a-form-caption"><label><input type="checkbox" name="show_password" id="show-password-checkbox" value="1"> Show password</label></div>';
	// Inject the toggle button into the page
	$field.after(show_pass);
	// Cache the toggle button
	var $toggle = $('#show-password-checkbox');
	// Toggle the field type
	$toggle.on('click', function (e) {
		var checkbox = $(this);
		if (checkbox.is(':checked')) {
			$field.attr('type', 'text');
		} else {
			$field.attr('type', 'password');
		}
	});
	// Set the form field back to a regular password element
	$submit.on('click', function (e) {
		$field.attr('type', 'password');
	});
}

function checkPasswordStrength($password, $strengthMeter, $strengthText, $submitButton, blacklistArray) {
	var password = $password.val();

	// Reset the form & meter
	//$submitButton.attr( 'disabled', 'disabled' );
	$strengthText.removeClass('short bad good strong');

	// Extend our blacklist array with those from the inputs & site data
	blacklistArray = blacklistArray.concat(wp.passwordStrength.userInputBlacklist());

	// Get the password strength
	var strength = wp.passwordStrength.meter(password, blacklistArray, password);

	// Add the strength meter results
	switch (strength) {
		case 2:
			$strengthText.addClass('bad').html('Strength: <strong>' + pwsL10n.bad + '</strong>');
			break;
		case 3:
			$strengthText.addClass('good').html('Strength: <strong>' + pwsL10n.good + '</strong>');
			break;
		case 4:
			$strengthText.addClass('strong').html('Strength: <strong>' + pwsL10n.strong + '</strong>');
			break;
		case 5:
			$strengthText.addClass('short').html('Strength: <strong>' + pwsL10n.mismatch + '</strong>');
			break;
		default:
			$strengthText.addClass('short').html('Strength: <strong>' + pwsL10n.short + '</strong>');
	}
	$strengthMeter.val(strength);

	// Only enable the submit button if the password is strong
	/*
 if ( 4 === strength ) {
     $submitButton.removeAttr( 'disabled' );
 }*/

	return strength;
}

$(document).ready(function () {

	// start
	if ($('#rh-name').length > 0) {
		$('#rh-name').val('');
	}

	// show password if user clicks
	if ($('.password-show').length > 0) {
		showPassword();
	}
	// checkPasswordStrength
	if ($('.password-strength-check').length > 0) {
		var $before = $('.a-form-show-password');
		$before.after($('<meter max="4" id="password-strength"><div></div></meter><p id="password-strength-text"></p>'));
		$('body').on('keyup', 'input[name=password], input[name=new_password]', function (event) {
			checkPasswordStrength($('input[name=password], input[name=new_password]'), // Password field
			$('#password-strength'), // Strength meter
			$('#password-strength-text'), // Strength text indicator
			$('input[type=submit]'), // Submit button
			['black', 'listed', 'word'] // Blacklisted words
			);
		});
	}
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImpRdWVyeSIsInNob3dQYXNzd29yZCIsIiRzdWJtaXQiLCIkZmllbGQiLCJzaG93X3Bhc3MiLCJhZnRlciIsIiR0b2dnbGUiLCJvbiIsImUiLCJjaGVja2JveCIsImlzIiwiYXR0ciIsImNoZWNrUGFzc3dvcmRTdHJlbmd0aCIsIiRwYXNzd29yZCIsIiRzdHJlbmd0aE1ldGVyIiwiJHN0cmVuZ3RoVGV4dCIsIiRzdWJtaXRCdXR0b24iLCJibGFja2xpc3RBcnJheSIsInBhc3N3b3JkIiwidmFsIiwicmVtb3ZlQ2xhc3MiLCJjb25jYXQiLCJ3cCIsInBhc3N3b3JkU3RyZW5ndGgiLCJ1c2VySW5wdXRCbGFja2xpc3QiLCJzdHJlbmd0aCIsIm1ldGVyIiwiYWRkQ2xhc3MiLCJodG1sIiwicHdzTDEwbiIsImJhZCIsImdvb2QiLCJzdHJvbmciLCJtaXNtYXRjaCIsInNob3J0IiwiZG9jdW1lbnQiLCJyZWFkeSIsImxlbmd0aCIsIiRiZWZvcmUiLCJldmVudCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxJQUFJQyxPQUFPQyxNQUFmOztBQUVBLFNBQVNDLFlBQVQsR0FBd0I7QUFDdkI7QUFDQSxLQUFJQyxVQUFVSixFQUFFLGFBQUYsQ0FBZDtBQUNBLEtBQUlLLFNBQVNMLEVBQUUsZ0JBQUYsQ0FBYjtBQUNBLEtBQUlNLFlBQVksd0tBQWhCO0FBQ0E7QUFDQUQsUUFBT0UsS0FBUCxDQUFjRCxTQUFkO0FBQ0E7QUFDQSxLQUFJRSxVQUFVUixFQUFFLHlCQUFGLENBQWQ7QUFDQTtBQUNBUSxTQUFRQyxFQUFSLENBQVcsT0FBWCxFQUFvQixVQUFTQyxDQUFULEVBQVk7QUFDL0IsTUFBSUMsV0FBV1gsRUFBRSxJQUFGLENBQWY7QUFDQSxNQUFJVyxTQUFTQyxFQUFULENBQVksVUFBWixDQUFKLEVBQTZCO0FBQzVCUCxVQUFPUSxJQUFQLENBQVksTUFBWixFQUFvQixNQUFwQjtBQUNBLEdBRkQsTUFFTztBQUNOUixVQUFPUSxJQUFQLENBQVksTUFBWixFQUFvQixVQUFwQjtBQUNBO0FBQ0QsRUFQRDtBQVFBO0FBQ0FULFNBQVFLLEVBQVIsQ0FBWSxPQUFaLEVBQXFCLFVBQVNDLENBQVQsRUFBWTtBQUNoQ0wsU0FBT1EsSUFBUCxDQUFZLE1BQVosRUFBb0IsVUFBcEI7QUFDQSxFQUZEO0FBR0E7O0FBRUQsU0FBU0MscUJBQVQsQ0FBZ0NDLFNBQWhDLEVBQTJDQyxjQUEzQyxFQUEyREMsYUFBM0QsRUFBMEVDLGFBQTFFLEVBQXlGQyxjQUF6RixFQUEwRztBQUN0RyxLQUFJQyxXQUFXTCxVQUFVTSxHQUFWLEVBQWY7O0FBRUE7QUFDQTtBQUNBSixlQUFjSyxXQUFkLENBQTJCLHVCQUEzQjs7QUFFQTtBQUNBSCxrQkFBaUJBLGVBQWVJLE1BQWYsQ0FBdUJDLEdBQUdDLGdCQUFILENBQW9CQyxrQkFBcEIsRUFBdkIsQ0FBakI7O0FBRUE7QUFDQSxLQUFJQyxXQUFXSCxHQUFHQyxnQkFBSCxDQUFvQkcsS0FBcEIsQ0FBMkJSLFFBQTNCLEVBQXFDRCxjQUFyQyxFQUFxREMsUUFBckQsQ0FBZjs7QUFFQTtBQUNBLFNBQVNPLFFBQVQ7QUFDSSxPQUFLLENBQUw7QUFDSVYsaUJBQWNZLFFBQWQsQ0FBd0IsS0FBeEIsRUFBZ0NDLElBQWhDLENBQXNDLHVCQUF1QkMsUUFBUUMsR0FBL0IsR0FBcUMsV0FBM0U7QUFDQTtBQUNKLE9BQUssQ0FBTDtBQUNJZixpQkFBY1ksUUFBZCxDQUF3QixNQUF4QixFQUFpQ0MsSUFBakMsQ0FBdUMsdUJBQXVCQyxRQUFRRSxJQUEvQixHQUFzQyxXQUE3RTtBQUNBO0FBQ0osT0FBSyxDQUFMO0FBQ0loQixpQkFBY1ksUUFBZCxDQUF3QixRQUF4QixFQUFtQ0MsSUFBbkMsQ0FBeUMsdUJBQXVCQyxRQUFRRyxNQUEvQixHQUF3QyxXQUFqRjtBQUNBO0FBQ0osT0FBSyxDQUFMO0FBQ0lqQixpQkFBY1ksUUFBZCxDQUF3QixPQUF4QixFQUFrQ0MsSUFBbEMsQ0FBd0MsdUJBQXVCQyxRQUFRSSxRQUEvQixHQUEwQyxXQUFsRjtBQUNBO0FBQ0o7QUFDSWxCLGlCQUFjWSxRQUFkLENBQXdCLE9BQXhCLEVBQWtDQyxJQUFsQyxDQUF3Qyx1QkFBdUJDLFFBQVFLLEtBQS9CLEdBQXVDLFdBQS9FO0FBZFI7QUFnQkFwQixnQkFBZUssR0FBZixDQUFtQk0sUUFBbkI7O0FBRUE7QUFDQTs7Ozs7QUFLQSxRQUFPQSxRQUFQO0FBQ0g7O0FBRUQzQixFQUFFcUMsUUFBRixFQUFZQyxLQUFaLENBQWtCLFlBQVc7O0FBRTVCO0FBQ0EsS0FBSXRDLEVBQUUsVUFBRixFQUFjdUMsTUFBZCxHQUF1QixDQUEzQixFQUErQjtBQUM5QnZDLElBQUcsVUFBSCxFQUFnQnFCLEdBQWhCLENBQXFCLEVBQXJCO0FBQ0E7O0FBRUQ7QUFDQSxLQUFJckIsRUFBRSxnQkFBRixFQUFvQnVDLE1BQXBCLEdBQTZCLENBQWpDLEVBQXFDO0FBQ3BDcEM7QUFDQTtBQUNEO0FBQ0EsS0FBSUgsRUFBRSwwQkFBRixFQUE4QnVDLE1BQTlCLEdBQXVDLENBQTNDLEVBQStDO0FBQzlDLE1BQUlDLFVBQVV4QyxFQUFFLHVCQUFGLENBQWQ7QUFDQXdDLFVBQVFqQyxLQUFSLENBQWVQLEVBQUUsOEZBQUYsQ0FBZjtBQUNHQSxJQUFHLE1BQUgsRUFBWVMsRUFBWixDQUFnQixPQUFoQixFQUF5QixnREFBekIsRUFDSSxVQUFVZ0MsS0FBVixFQUFrQjtBQUNkM0IseUJBQ0lkLEVBQUUsZ0RBQUYsQ0FESixFQUN5RDtBQUNyREEsS0FBRSxvQkFBRixDQUZKLEVBRXVDO0FBQ25DQSxLQUFFLHlCQUFGLENBSEosRUFHdUM7QUFDbkNBLEtBQUUsb0JBQUYsQ0FKSixFQUl1QztBQUNuQyxJQUFDLE9BQUQsRUFBVSxRQUFWLEVBQW9CLE1BQXBCLENBTEosQ0FLdUM7QUFMdkM7QUFPSCxHQVRMO0FBV0g7QUFDRCxDQTNCRCIsImZpbGUiOiJ1c2VyLWFjY291bnQtbWFuYWdlbWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciAkID0gd2luZG93LmpRdWVyeTtcblxuZnVuY3Rpb24gc2hvd1Bhc3N3b3JkKCkge1xuXHQvLyBDYWNoZSBvdXIganF1ZXJ5IGVsZW1lbnRzXG5cdHZhciAkc3VibWl0ID0gJCgnLmJ0bi1zdWJtaXQnKTtcblx0dmFyICRmaWVsZCA9ICQoJy5wYXNzd29yZC1zaG93Jyk7XG5cdHZhciBzaG93X3Bhc3MgPSAnPGRpdiBjbGFzcz1cImEtZm9ybS1zaG93LXBhc3N3b3JkIGEtZm9ybS1jYXB0aW9uXCI+PGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwic2hvd19wYXNzd29yZFwiIGlkPVwic2hvdy1wYXNzd29yZC1jaGVja2JveFwiIHZhbHVlPVwiMVwiPiBTaG93IHBhc3N3b3JkPC9sYWJlbD48L2Rpdj4nO1xuXHQvLyBJbmplY3QgdGhlIHRvZ2dsZSBidXR0b24gaW50byB0aGUgcGFnZVxuXHQkZmllbGQuYWZ0ZXIoIHNob3dfcGFzcyApO1xuXHQvLyBDYWNoZSB0aGUgdG9nZ2xlIGJ1dHRvblxuXHR2YXIgJHRvZ2dsZSA9ICQoJyNzaG93LXBhc3N3b3JkLWNoZWNrYm94Jyk7XG5cdC8vIFRvZ2dsZSB0aGUgZmllbGQgdHlwZVxuXHQkdG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHR2YXIgY2hlY2tib3ggPSAkKHRoaXMpO1xuXHRcdGlmIChjaGVja2JveC5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0JGZpZWxkLmF0dHIoJ3R5cGUnLCAndGV4dCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkZmllbGQuYXR0cigndHlwZScsICdwYXNzd29yZCcpO1xuXHRcdH1cblx0fSk7XG5cdC8vIFNldCB0aGUgZm9ybSBmaWVsZCBiYWNrIHRvIGEgcmVndWxhciBwYXNzd29yZCBlbGVtZW50XG5cdCRzdWJtaXQub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHQkZmllbGQuYXR0cigndHlwZScsICdwYXNzd29yZCcpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gY2hlY2tQYXNzd29yZFN0cmVuZ3RoKCAkcGFzc3dvcmQsICRzdHJlbmd0aE1ldGVyLCAkc3RyZW5ndGhUZXh0LCAkc3VibWl0QnV0dG9uLCBibGFja2xpc3RBcnJheSApIHtcbiAgICB2YXIgcGFzc3dvcmQgPSAkcGFzc3dvcmQudmFsKCk7XG5cbiAgICAvLyBSZXNldCB0aGUgZm9ybSAmIG1ldGVyXG4gICAgLy8kc3VibWl0QnV0dG9uLmF0dHIoICdkaXNhYmxlZCcsICdkaXNhYmxlZCcgKTtcbiAgICAkc3RyZW5ndGhUZXh0LnJlbW92ZUNsYXNzKCAnc2hvcnQgYmFkIGdvb2Qgc3Ryb25nJyApO1xuXG4gICAgLy8gRXh0ZW5kIG91ciBibGFja2xpc3QgYXJyYXkgd2l0aCB0aG9zZSBmcm9tIHRoZSBpbnB1dHMgJiBzaXRlIGRhdGFcbiAgICBibGFja2xpc3RBcnJheSA9IGJsYWNrbGlzdEFycmF5LmNvbmNhdCggd3AucGFzc3dvcmRTdHJlbmd0aC51c2VySW5wdXRCbGFja2xpc3QoKSApXG5cbiAgICAvLyBHZXQgdGhlIHBhc3N3b3JkIHN0cmVuZ3RoXG4gICAgdmFyIHN0cmVuZ3RoID0gd3AucGFzc3dvcmRTdHJlbmd0aC5tZXRlciggcGFzc3dvcmQsIGJsYWNrbGlzdEFycmF5LCBwYXNzd29yZCApO1xuXG4gICAgLy8gQWRkIHRoZSBzdHJlbmd0aCBtZXRlciByZXN1bHRzXG4gICAgc3dpdGNoICggc3RyZW5ndGggKSB7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICRzdHJlbmd0aFRleHQuYWRkQ2xhc3MoICdiYWQnICkuaHRtbCggJ1N0cmVuZ3RoOiA8c3Ryb25nPicgKyBwd3NMMTBuLmJhZCArICc8L3N0cm9uZz4nICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgJHN0cmVuZ3RoVGV4dC5hZGRDbGFzcyggJ2dvb2QnICkuaHRtbCggJ1N0cmVuZ3RoOiA8c3Ryb25nPicgKyBwd3NMMTBuLmdvb2QgKyAnPC9zdHJvbmc+JyApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICRzdHJlbmd0aFRleHQuYWRkQ2xhc3MoICdzdHJvbmcnICkuaHRtbCggJ1N0cmVuZ3RoOiA8c3Ryb25nPicgKyBwd3NMMTBuLnN0cm9uZyArICc8L3N0cm9uZz4nICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgJHN0cmVuZ3RoVGV4dC5hZGRDbGFzcyggJ3Nob3J0JyApLmh0bWwoICdTdHJlbmd0aDogPHN0cm9uZz4nICsgcHdzTDEwbi5taXNtYXRjaCArICc8L3N0cm9uZz4nICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICRzdHJlbmd0aFRleHQuYWRkQ2xhc3MoICdzaG9ydCcgKS5odG1sKCAnU3RyZW5ndGg6IDxzdHJvbmc+JyArIHB3c0wxMG4uc2hvcnQgKyAnPC9zdHJvbmc+JyApO1xuICAgIH1cbiAgICAkc3RyZW5ndGhNZXRlci52YWwoc3RyZW5ndGgpO1xuXG4gICAgLy8gT25seSBlbmFibGUgdGhlIHN1Ym1pdCBidXR0b24gaWYgdGhlIHBhc3N3b3JkIGlzIHN0cm9uZ1xuICAgIC8qXG4gICAgaWYgKCA0ID09PSBzdHJlbmd0aCApIHtcbiAgICAgICAgJHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyKCAnZGlzYWJsZWQnICk7XG4gICAgfSovXG5cbiAgICByZXR1cm4gc3RyZW5ndGg7XG59XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG5cdC8vIHN0YXJ0XG5cdGlmICgkKCcjcmgtbmFtZScpLmxlbmd0aCA+IDAgKSB7XG5cdFx0JCggJyNyaC1uYW1lJyApLnZhbCggJycgKTtcblx0fVxuXG5cdC8vIHNob3cgcGFzc3dvcmQgaWYgdXNlciBjbGlja3Ncblx0aWYgKCQoJy5wYXNzd29yZC1zaG93JykubGVuZ3RoID4gMCApIHtcblx0XHRzaG93UGFzc3dvcmQoKTtcblx0fVxuXHQvLyBjaGVja1Bhc3N3b3JkU3RyZW5ndGhcblx0aWYgKCQoJy5wYXNzd29yZC1zdHJlbmd0aC1jaGVjaycpLmxlbmd0aCA+IDAgKSB7XG5cdFx0dmFyICRiZWZvcmUgPSAkKCcuYS1mb3JtLXNob3ctcGFzc3dvcmQnKTtcblx0XHQkYmVmb3JlLmFmdGVyKCAkKCc8bWV0ZXIgbWF4PVwiNFwiIGlkPVwicGFzc3dvcmQtc3RyZW5ndGhcIj48ZGl2PjwvZGl2PjwvbWV0ZXI+PHAgaWQ9XCJwYXNzd29yZC1zdHJlbmd0aC10ZXh0XCI+PC9wPicpKTtcblx0ICAgICQoICdib2R5JyApLm9uKCAna2V5dXAnLCAnaW5wdXRbbmFtZT1wYXNzd29yZF0sIGlucHV0W25hbWU9bmV3X3Bhc3N3b3JkXScsXG5cdCAgICAgICAgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgICAgICAgICAgICBjaGVja1Bhc3N3b3JkU3RyZW5ndGgoXG5cdCAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPXBhc3N3b3JkXSwgaW5wdXRbbmFtZT1uZXdfcGFzc3dvcmRdJyksIC8vIFBhc3N3b3JkIGZpZWxkXG5cdCAgICAgICAgICAgICAgICAkKCcjcGFzc3dvcmQtc3RyZW5ndGgnKSwgICAgICAgICAgIC8vIFN0cmVuZ3RoIG1ldGVyXG5cdCAgICAgICAgICAgICAgICAkKCcjcGFzc3dvcmQtc3RyZW5ndGgtdGV4dCcpLCAgICAgIC8vIFN0cmVuZ3RoIHRleHQgaW5kaWNhdG9yXG5cdCAgICAgICAgICAgICAgICAkKCdpbnB1dFt0eXBlPXN1Ym1pdF0nKSwgICAgICAgICAgIC8vIFN1Ym1pdCBidXR0b25cblx0ICAgICAgICAgICAgICAgIFsnYmxhY2snLCAnbGlzdGVkJywgJ3dvcmQnXSAgICAgICAgLy8gQmxhY2tsaXN0ZWQgd29yZHNcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICApO1xuXHR9XG59KTtcbiJdfQ==
